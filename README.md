# ğŸ™ï¸ Voice AI Agent

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®éŸ³å£°æŒ‡ç¤ºã‚’ç†è§£ã—ã€é©åˆ‡ãªãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ç”Ÿæ´»ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆéŸ³å£°ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

## âœ¨ ç‰¹å¾´

- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°å¯¾è©±**: WebSocketãƒ™ãƒ¼ã‚¹ã®ä½é…å»¶éŸ³å£°å‡¦ç†
- **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰LLM**: Claude API + ãƒ­ãƒ¼ã‚«ãƒ«Ollama ã§ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨æ€§èƒ½ã‚’ä¸¡ç«‹
- **ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«å­¦ç¿’**: RAGã¨ãƒ™ã‚¯ãƒˆãƒ«DBã«ã‚ˆã‚‹å€‹äººé©å¿œå‹AI
- **ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ é€£æº**: Home Assistantã¨ã®çµ±åˆã§å®¶é›»åˆ¶å¾¡
- **è‡ªç„¶ãªéŸ³å£°åˆæˆ**: ElevenLabsã«ã‚ˆã‚‹æ„Ÿæƒ…è¡¨ç¾è±Šã‹ãªTTS
- **æ‹¡å¼µå¯èƒ½ãªãƒ„ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ **: ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã§æ©Ÿèƒ½è¿½åŠ ãŒç°¡å˜

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
éŸ³å£°å…¥åŠ› â†’ STT â†’ NLU â†’ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚³ã‚¢ â†’ ãƒ„ãƒ¼ãƒ«å®Ÿè¡Œ â†’ å¿œç­”ç”Ÿæˆ â†’ TTS â†’ éŸ³å£°å‡ºåŠ›
              â†“         â†“                    â†“
    ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«DB    ãƒ„ãƒ¼ãƒ«ãƒ¬ã‚¸ã‚¹ãƒˆãƒª      å±¥æ­´ç®¡ç†
```

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Pythonä»®æƒ³ç’°å¢ƒã®ä½œæˆ
python -m venv venv
source venv/bin/activate  # Windows: venv\\Scripts\\activate

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt
```

### 2. ç’°å¢ƒè¨­å®š

```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼
cp .env.example .env

# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦APIã‚­ãƒ¼ã‚’è¨­å®š
```

### 3. Ollamaã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«LLMç”¨ï¼‰

```bash
# Ollamaã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
curl -fsSL https://ollama.ai/install.sh | sh

# ãƒ¢ãƒ‡ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
ollama pull llama3.2
```

### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–

```bash
# PostgreSQLã®èµ·å‹•ï¼ˆDockerã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«DBï¼‰
python -m alembic upgrade head
```

### 5. ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
```

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:8000` ã‚’é–‹ã
2. ãƒã‚¤ã‚¯ã®ä½¿ç”¨ã‚’è¨±å¯
3. ã€Œèã„ã¦ã„ã¾ã™...ã€ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰è©±ã—ã‹ã‘ã‚‹
4. AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå¿œç­”ã—ã€å¿…è¦ã«å¿œã˜ã¦ãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œ

### éŸ³å£°ã‚³ãƒãƒ³ãƒ‰ä¾‹

- "ä»Šæ—¥ã®å¤©æ°—ã‚’æ•™ãˆã¦"
- "ãƒªãƒ“ãƒ³ã‚°ã®é›»æ°—ã‚’ã¤ã‘ã¦"
- "æ˜æ—¥ã®äºˆå®šã‚’ãƒ¡ãƒ¢ã—ã¦"
- "éŸ³æ¥½ã‚’ã‹ã‘ã¦"
- "éƒ¨å±‹ã®æ¸©åº¦ã‚’22åº¦ã«ã—ã¦"

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
voiceagent/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ audio/          # éŸ³å£°å‡¦ç†
â”‚   â”œâ”€â”€ llm/            # LLMã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”œâ”€â”€ memory/         # è¨˜æ†¶ãƒ»å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ tools/          # ãƒ„ãƒ¼ãƒ«å®Ÿè£…
â”‚   â””â”€â”€ smart_home/     # ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ é€£æº
â”œâ”€â”€ tests/              # ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ data/               # ãƒ‡ãƒ¼ã‚¿ä¿å­˜
â”œâ”€â”€ config/             # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ static/             # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### æ–°ã—ã„ãƒ„ãƒ¼ãƒ«ã®è¿½åŠ 

`src/tools/` ã«ãƒ„ãƒ¼ãƒ«ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ï¼š

```python
from src.core.tool_base import Tool

class WeatherTool(Tool):
    name = "weather"
    description = "å¤©æ°—æƒ…å ±ã‚’å–å¾—"

    async def execute(self, params: dict) -> str:
        # å®Ÿè£…
        return result
```

### éŸ³å£°ãƒ¢ãƒ‡ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

ElevenLabsã§éŸ³å£°ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¦ã€`.env`ã®VOICE_IDã‚’å¤‰æ›´

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### Docker Compose

```yaml
# docker-compose.yml
version: '3.8'
services:
  voiceagent:
    build: .
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgresql://...
```

## ğŸ“Š ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

- ãƒ­ã‚°: `data/voiceagent.log`
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰: `http://localhost:8000/dashboard`
- APIæ–‡æ›¸: `http://localhost:8000/docs`

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ

1. ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
3. ã‚³ãƒŸãƒƒãƒˆ
4. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License